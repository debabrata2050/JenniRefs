<!DOCTYPE html>
<html>

<head>
    <title>Icon Generator</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            background: #1a1a2e;
            color: white;
        }

        .icon-row {
            display: flex;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
        }

        canvas {
            border: 1px solid #444;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
        }

        h1 {
            color: #7c3aed;
        }
    </style>
</head>

<body>
    <h1>Reference Tracker - Icon Generator</h1>
    <p>Click "Download All" to save the PNG icons, then replace the SVG files in the icons folder.</p>

    <div class="icon-row">
        <div>
            <canvas id="icon16" width="16" height="16"></canvas>
            <p>16x16</p>
        </div>
        <div>
            <canvas id="icon48" width="48" height="48"></canvas>
            <p>48x48</p>
        </div>
        <div>
            <canvas id="icon128" width="128" height="128"></canvas>
            <p>128x128</p>
        </div>
    </div>

    <button onclick="downloadAll()">Download All Icons</button>

    <script>
        function drawIcon(canvas) {
            const ctx = canvas.getContext('2d');
            const size = canvas.width;
            const scale = size / 128;

            // Background with gradient
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#7c3aed');
            gradient.addColorStop(1, '#a855f7');

            // Rounded rectangle background
            const radius = 22 * scale;
            const margin = 12 * scale;
            ctx.beginPath();
            ctx.roundRect(margin, margin, size - margin * 2, size - margin * 2, radius);
            ctx.fillStyle = gradient;
            ctx.fill();

            // Stacked lines (reference list)
            ctx.fillStyle = 'white';
            const lines = [
                { y: 36, width: 48, opacity: 1 },
                { y: 52, width: 56, opacity: 0.85 },
                { y: 68, width: 40, opacity: 0.7 },
                { y: 84, width: 52, opacity: 0.55 }
            ];

            lines.forEach(line => {
                ctx.globalAlpha = line.opacity;
                const x = 32 * scale;
                const y = line.y * scale;
                const w = line.width * scale;
                const h = 8 * scale;
                const r = 4 * scale;
                ctx.beginPath();
                ctx.roundRect(x, y, w, h, r);
                ctx.fill();
            });

            ctx.globalAlpha = 1;

            // Bookmark
            ctx.fillStyle = '#f59e0b';
            ctx.beginPath();
            const bx = 88 * scale;
            const by = 28 * scale;
            const bw = 16 * scale;
            const bh = 34 * scale;
            ctx.moveTo(bx, by);
            ctx.lineTo(bx, by + bh);
            ctx.lineTo(bx + bw / 2, by + bh - 8 * scale);
            ctx.lineTo(bx + bw, by + bh);
            ctx.lineTo(bx + bw, by);
            ctx.closePath();
            ctx.fill();
        }

        // Draw all icons
        ['icon16', 'icon48', 'icon128'].forEach(id => {
            drawIcon(document.getElementById(id));
        });

        function downloadAll() {
            ['icon16', 'icon48', 'icon128'].forEach(id => {
                const canvas = document.getElementById(id);
                const link = document.createElement('a');
                link.download = id + '.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }
    </script>
</body>

</html>